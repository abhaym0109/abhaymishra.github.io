<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abhay Mishra ‚Äî Futuristic Portfolio</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#030417; --panel:rgba(255,255,255,0.04); --accent:#3dd3ff; --accent2:#7af7c9; --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.03);
      --neon: 0 0 20px rgba(61,211,255,0.16);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Segoe UI,Roboto,Arial;color:#e9f1fb;background:linear-gradient(180deg,#020316 0%,#061025 100%);-webkit-font-smoothing:antialiased}

    /* NAV */
    nav{position:fixed;inset:16px 32px auto 32px;display:flex;align-items:center;justify-content:space-between;gap:20px;z-index:50}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#6fb8ff);display:flex;align-items:center;justify-content:center;color:#001;box-shadow:var(--neon)}
    .navlinks{display:flex;gap:14px;background:var(--glass-2);padding:8px 12px;border-radius:12px;backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,0.03)}
    .navlinks a{color:#cfefff;text-decoration:none;font-weight:600;padding:6px 10px;border-radius:8px}
    .navlinks a:hover{background:linear-gradient(90deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));color:var(--accent)}

    /* Hero */
    header.hero{height:100vh;display:flex;align-items:center;justify-content:center;padding:40px;position:relative;overflow:hidden}
    header .hero-inner{max-width:1200px;width:100%;display:grid;grid-template-columns:1fr 420px;gap:30px;align-items:center}

    .intro{padding:28px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(8px);box-shadow:0 10px 40px rgba(0,0,0,0.7)}
    .kicker{color:var(--accent);font-weight:700;display:inline-block;padding:8px 12px;border-radius:999px;margin-bottom:18px}
    h1{font-size:48px;margin:0 0 8px 0;line-height:1}
    p.lead{margin:0 0 18px 0;opacity:0.9}
    .cta{display:flex;gap:12px}
    .btn{border:none;padding:12px 18px;border-radius:12px;font-weight:700;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#80d4ff);color:#001}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#dff3ff}

    /* Hologram column */
    .holo{height:520px;border-radius:18px;padding:18px;background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.04);display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}
    .holo canvas{width:100%;height:100%;display:block;border-radius:12px}
    .lottie-wrap{position:absolute;inset:18px;border-radius:12px;pointer-events:none;}

    /* floating metadata */    
    .meta{position:absolute;left:20px;bottom:20px;display:flex;gap:12px}
    .stat{background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);font-weight:700}

    /* Sections */
    .section{max-width:1200px;margin:40px auto;padding:20px}
    .panel{background:var(--panel);padding:24px;border-radius:16px;border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(8px);}
    .section-title{display:flex;align-items:center;gap:12px;font-size:20px;color:var(--accent);font-weight:700;margin-bottom:16px}

    /* Timeline advanced */
    .timeline-wrap{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
    .timeline-rail{position:relative;padding-left:28px}
    .rail-line{position:absolute;left:12px;top:6px;bottom:6px;width:4px;background:linear-gradient(180deg,var(--accent),#7af7c9);border-radius:6px;box-shadow:0 0 30px rgba(61,211,255,0.08)}
    .node{position:relative;margin-bottom:34px;padding:10px 14px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);cursor:pointer;transform-origin:left center;transition:transform .28s cubic-bezier(.2,.9,.2,1);opacity:0;transform:translateX(-20px)}
    .node:hover{transform:translateX(8px) scale(1.02)}
    .node .dot{position:absolute;left:-26px;top:10px;width:18px;height:18px;border-radius:50%;background:radial-gradient(circle at 40% 30%,#fff,#8de8ff);box-shadow:0 0 18px rgba(61,211,255,0.3)}
    .node h4{margin:0;font-size:16px}
    .node p{margin:6px 0 0 0;opacity:0.9}

    /* Right panel details */
    .detail-panel{position:sticky;top:90px;padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03);min-height:260px}
    .detail-title{font-size:18px;font-weight:700;color:#cfefff}
    .detail-body{margin-top:8px;opacity:0.95;line-height:1.5}

    /* Carousel advanced */
    .carousel{display:flex;gap:18px;overflow-x:auto;padding-bottom:12px;scroll-snap-type:x mandatory}
    .card-tile{min-width:300px;padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);scroll-snap-align:center;cursor:pointer}
    .card-tile:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,0.7)}

    /* Skills wheel */
    .skills-wrap{display:flex;gap:24px;align-items:center}
    .wheel{width:360px;height:360px;border-radius:50%;position:relative;background:conic-gradient(rgba(61,211,255,0.06),transparent);display:flex;align-items:center;justify-content:center}
    .wheel .center{width:110px;height:110px;border-radius:50%;background:linear-gradient(180deg,#0c1630,#08203a);display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:700;border:1px solid rgba(255,255,255,0.04)}

    /* NEW ‚Äî Radial Progress Indicators */
    .skill-progress{
      position:absolute;
      width:90px;
      height:90px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      font-weight:700;
      color:#aff7ff;
      background:conic-gradient(var(--accent) calc(var(--p)*1%), rgba(255,255,255,0.06) 0);
      border:2px solid rgba(255,255,255,0.08);
      box-shadow:0 0 14px rgba(61,211,255,0.2);
    }

    /* Modal */ */
    .modal{position:fixed;inset:0;background:rgba(1,6,14,0.7);display:flex;align-items:center;justify-content:center;z-index:99;opacity:0;pointer-events:none;transition:opacity .25s}
    .modal.open{opacity:1;pointer-events:auto}
    .modal .inner{width:min(1000px,95%);background:#071122;padding:24px;border-radius:12px;border:1px solid rgba(255,255,255,0.06)}
    .close{position:absolute;right:18px;top:18px;background:transparent;border:none;color:#cfefff;font-weight:800;font-size:18px}
    .modal .gallery{display:flex;gap:8px;overflow:hidden}
    .modal .gallery img{max-width:100%;border-radius:8px}
    .modal iframe{width:100%;height:480px;border:0;border-radius:8px}

    /* responsive */
    @media (max-width:980px){
      .hero-inner{grid-template-columns:1fr;}
      .timeline-wrap{grid-template-columns:1fr}
      .holo{height:420px}
      .wheel{width:260px;height:260px}
    }
  </style>

  <!-- GSAP + ScrollTrigger + Lottie -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
</head>
<body>

<nav>
  <div class="brand">
    <div class="logo">AM</div>
    <div style="color:#dff7ff;font-weight:700">Abhay Mishra</div>
  </div>
  <div class="navlinks">
    <a href="#summary">Summary</a>
    <a href="#journey">Journey</a>
    <a href="#awards">Awards</a>
    <a href="#projects">Projects</a>
    <a href="#skills">Skills</a>
  </div>
</nav>

<header class="hero">
  <div class="hero-inner">

    <div class="intro" id="intro">
      <div class="kicker">Senior Backend Developer</div>
      <h1 id="heroName">Abhay Mishra</h1>
      <p class="lead" id="heroLead">I design and build scalable backend systems & personalized experiences that move metrics ‚Äî Java, Python, Microservices, ML.</p>
      <div class="cta">
        <button class="btn primary" id="downloadBtn">Download Resume</button>
        <button class="btn ghost" id="contactBtn">Contact</button>
        <button class="btn ghost" id="themeBtn">Toggle Theme</button>
      </div>
      <div style="margin-top:18px;display:flex;gap:12px;align-items:center">
        <div style="font-weight:700">Location</div>
        <div style="opacity:0.85">Noida ‚Ä¢ abhaym0109@gmail.com</div>
      </div>
    </div>

    <div class="holo" id="holo">
      <canvas id="holoCanvas"></canvas>
      <div class="lottie-wrap" id="lottieContainer"></div>
      <div class="meta">
        <div class="stat">+161% Engagement</div>
        <div class="stat">100K Daily Users</div>
      </div>
    </div>

  </div>
</header>

<!-- SUMMARY -->
<section id="summary" class="section">
  <div class="panel">
    <div class="section-title">‚ú® Professional Summary</div>
    <p>Backend engineer with 3+ years building microservices, real-time engagement flows and ML-driven personalization. I focus on practical systems that scale and deliver clear business impact.</p>
  </div>
</section>

<!-- JOURNEY -->
<section id="journey" class="section">
  <div class="panel">
    <div class="section-title">üåå My Journey</div>
    <div class="timeline-wrap">

      <div class="timeline-rail" id="timelineRail">
        <div class="rail-line"></div>
        <!-- nodes generated by JS for interactivity -->
      </div>

      <div class="detail-panel" id="detailPanel">
        <div class="detail-title">Explore my timeline</div>
        <div class="detail-body">Click any node on the left to see expanded notes, media or project links. The timeline emphasizes growth, learning, and achievements ‚Äî not job titles.</div>
      </div>

    </div>
  </div>
</section>

<!-- AWARDS -->
<section id="awards" class="section">
  <div class="panel">
    <div class="section-title">üèÖ Awards & Highlights</div>
    <div class="carousel" id="awardsCarousel">
      <!-- tiles inserted by JS -->
    </div>
  </div>
</section>

<!-- PROJECTS -->
<section id="projects" class="section">
  <div class="panel">
    <div class="section-title">üöÄ Projects</div>
    <div class="carousel" id="projectsCarousel"></div>
  </div>
</section>

<!-- SKILLS -->
<section id="skills" class="section">
  <div class="panel">
    <div class="section-title">üß† Skill Wheel</div>
    <div class="skills-wrap">
      <div class="wheel" id="skillWheel">
        <div class="center">Skills</div>
        <!-- skill dots added by JS -->
      </div>
      <div style="flex:1">
        <div style="font-weight:700;font-size:18px;color:#cfefff;margin-bottom:8px">Primary Tech</div>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <div class="skill-chip">Java</div>
          <div class="skill-chip">Spring Boot</div>
          <div class="skill-chip">Python</div>
          <div class="skill-chip">Redis</div>
          <div class="skill-chip">Elasticsearch</div>
          <div class="skill-chip">Kubernetes</div>
        </div>
        <div style="height:18px"></div>
        <div style="font-weight:700;font-size:16px;color:#cfefff;margin-bottom:8px">Core Strengths</div>
        <ul style="margin:0;padding-left:18px;opacity:0.95">
          <li>Scalable microservice design</li>
          <li>Personalization & recommender systems</li>
          <li>Performance tuning & caching</li>
        </ul>
      </div>
    </div>
  </div>
</section>



<!-- MODAL -->
<div class="modal" id="modal">
  <div class="inner">
    <button class="close" id="closeModal">‚úï</button>
    <div id="modalContent"></div>
  </div>
</div>

<!-- SCRIPTS -->
<script>
// ----------------- Data -----------------
const TIMELINE = [
  {id:'t1',title:'Early Curiosity',date:'2005‚Äì2016',text:'Tinkering with computers, solving puzzles and building small scripts that sparked a love for software.',media:[]},
  {id:'t2',title:'B.Tech ‚Äî Foundations',date:'2018‚Äì2022',text:'Built strong CS foundations: algorithms, OS, networks and initial ML projects.',media:[]},
  {id:'t3',title:'Lead Classification System',date:'Jan 2022 ‚Äì May 2022',text:'Built ML pipeline to classify leads; reduced manual effort by 60% and served predictions via REST APIs.',media:['https://picsum.photos/seed/lead1/800/450','https://picsum.photos/seed/lead2/800/450']},
  {id:'t4',title:'Hackathon Win (Fresher)',date:'Sep 2022',text:'Won internal hackathon ‚Äî created a tool that improved operational efficiency.',media:['https://picsum.photos/seed/hack1/800/450']},
  {id:'t5',title:'Scaling Recommenders',date:'2022‚Äì2024',text:'Worked on real-time dashboards, recommendation widgets, and WhatsApp-based personalization reaching 100K+ daily users.',media:['https://picsum.photos/seed/rec1/800/450','https://picsum.photos/seed/rec2/800/450']},
  {id:'t6',title:'Top Gun Recognition',date:'Jul 2024',text:'Recognized for outstanding quarterly performance and delivery.',media:[]},
  {id:'t7',title:'Gold Merit Award',date:'Apr 2025',text:'Received Gold Merit for increasing deliveries through multi-channel recommendation systems.',media:[]},
  {id:'t8',title:'Hackathon ‚Äî 1st Prize',date:'Nov 2025',text:'Built AI hyper-personalized video recommender and won 1st Prize.',media:['https://picsum.photos/seed/win1/800/450','https://picsum.photos/seed/win2/800/450','video::https://www.youtube.com/embed/ysz5S6PUM-U']}
];

const AWARDS = [
  {title:'1st Prize ‚Äì Info Edge Hackathon',sub:'AI Hyper‚ÄëPersonalized Video Engine',date:'Nov 2025'},
  {title:'Gold Merit Award',sub:'Increased deliveries via recommendations',date:'Apr 2025'},
  {title:'Top Gun',sub:'Quarterly performance',date:'Jul 2024'},
  {title:'Hackathon Winner (Fresher)',sub:'Sep 2022',date:'Sep 2022'}
];

const PROJECTS = [
  {title:'Lead Classification System',desc:'Python, ML, REST ‚Äî Automated lead categorization and CRM integration.',images:['https://picsum.photos/seed/proj1a/1000/600','https://picsum.photos/seed/proj1b/1000/600'],video:'https://www.youtube.com/embed/ysz5S6PUM-U'},
  {title:'Hyper Personalization Engine',desc:'Behavioral segmentation + ranking for personalization.',images:['https://picsum.photos/seed/proj2a/1000/600'],video:''},
  {title:'Real-Time Dashboards',desc:'PHP + Elasticsearch dashboards for stakeholder analytics.',images:['https://picsum.photos/seed/proj3a/1000/600','https://picsum.photos/seed/proj3b/1000/600'],video:''}
];

const SKILLS = ['Java','Spring Boot','Python','Microservices','Redis','Elasticsearch','Kubernetes','Kafka','MySQL'];

// ----------------- Utilities -----------------
function el(tag,cls,html){const e=document.createElement(tag);if(cls)e.className=cls;if(html)e.innerHTML=html;return e}

// ----------------- Timeline Render + Interactivity -----------------
const rail=document.getElementById('timelineRail');
const detailPanel=document.getElementById('detailPanel');
function renderTimeline(){
  TIMELINE.forEach((node, idx)=>{
    const n=el('div','node');
    n.dataset.id=node.id;
    n.innerHTML=`<div class="dot"></div><h4>${node.title} <span style="float:right;font-weight:600;opacity:0.7">${node.date}</span></h4><p>${node.text.slice(0,120)}...</p>`;
    n.addEventListener('click',()=>openNode(node));
    rail.appendChild(n);
  });
}

function openNode(node){
  detailPanel.querySelector('.detail-title').textContent = node.title + ' ‚Äî ' + node.date;
  let mediaHtml=''; if(node.media && node.media.length){ mediaHtml='<div style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:8px">';
    node.media.forEach(m=>{ if(m.startsWith('video::')){ const url=m.split('::')[1]; mediaHtml+=`<div style="grid-column:1/-1"><iframe src="${url}" frameborder="0" allowfullscreen style="width:100%;height:320px;border-radius:8px"></iframe></div>` } else { mediaHtml+=`<img src="${m}" style="width:100%;border-radius:8px" />` } }); mediaHtml+='</div>' }
  detailPanel.querySelector('.detail-body').innerHTML = `<p style="margin:0 0 12px 0">${node.text}</p>${mediaHtml}<div style='margin-top:12px'><button class='btn primary' onclick="openModal('${node.title}','${node.text.replace(/'/g,"\'")}')">Read More</button></div>`;
}

// ----------------- Awards & Projects Carousels -----------------
function renderCarousel(){
  const awardsC=document.getElementById('awardsCarousel');
  AWARDS.forEach(a=>{
    const t=el('div','card-tile');
    t.innerHTML=`<div style="font-weight:800;color:#dffcff">${a.title}</div><div style="opacity:0.9;margin-top:6px">${a.sub}</div><div style="opacity:0.7;margin-top:8px;font-size:13px">${a.date}</div>`;
    t.onclick=()=>openModal(a.title,`<b>${a.title}</b><p style="margin:8px 0 0 0">${a.sub}</p><small style='opacity:0.8'>${a.date}</small>`);
    awardsC.appendChild(t);
  });

  const projC=document.getElementById('projectsCarousel');
  PROJECTS.forEach((p,idx)=>{
    const t=el('div','card-tile');
    t.innerHTML=`<div style="font-weight:800;color:#ffd7a6">${p.title}</div><div style="opacity:0.9;margin-top:8px">${p.desc}</div>`;
    t.onclick=()=>openProjectModal(idx);
    projC.appendChild(t);
  });
}

// ----------------- Project Modal with gallery + video -----------------
function openProjectModal(i){
  const p=PROJECTS[i];
  let html=`<h3 style="margin-top:0">${p.title}</h3><p>${p.desc}</p><div class='gallery' style="margin-top:12px">`;
  p.images.forEach(img=>{html+=`<img src='${img}' style='max-width:48%;margin-right:8px;border-radius:8px'/>`});
  html+='</div>';
  if(p.video) html+=`<div style='margin-top:12px'><iframe src='${p.video}' allowfullscreen></iframe></div>`;
  openModal(p.title,html);
}

// ----------------- Skill Wheel -----------------
function renderSkills(){
  const wheel=document.getElementById('skillWheel');
  const center=wheel.querySelector('.center');
  // remove old dots if any
  wheel.querySelectorAll('.skill-dot').forEach(n=>n.remove());

  // compute radius based on rendered size so dots position correctly on all screens
  const rect = wheel.getBoundingClientRect();
  const R = Math.max(80, Math.min(rect.width, rect.height) / 2 - 50);
  const cx = rect.width / 2;
  const cy = rect.height / 2;

  SKILLS.forEach((s,i)=>{
    const angle=(i / SKILLS.length) * Math.PI * 2 - Math.PI/2;
    const dot=el('div','skill-dot',s);
    dot.style.position = 'absolute';
    dot.style.left = `${cx + Math.cos(angle) * R}px`;
    dot.style.top  = `${cy + Math.sin(angle) * R}px`;
    dot.style.transform = 'translate(-50%,-50%)';
    dot.onclick = ()=>openModal(s, `<b>${s}</b><p style=\"margin-top:8px\">Experience & projects using ${s}.</p>`);
    wheel.appendChild(dot);
  });

  // spin animation removed ‚Äî wheel remains static

  // reposition dots on resize
  const onResize = ()=>{
    cancelAnimationFrame(wheel._animId);
    wheel.querySelectorAll('.skill-dot').forEach(n=>n.remove());
    // tiny timeout to let layout settle
    setTimeout(()=>{ renderSkills(); }, 80);
    window.removeEventListener('resize', onResize);
  };
  window.addEventListener('resize', onResize);
}

// ----------------- Modal -----------------

const modal=document.getElementById('modal');
const modalContent=document.getElementById('modalContent');
function openModal(title,html){modal.classList.add('open');modalContent.innerHTML=`<h3 style="margin-top:0">${title}</h3><div style="margin-top:8px">${html}</div>`}
function closeModal(){modal.classList.remove('open');modalContent.innerHTML=''}
document.getElementById('closeModal').addEventListener('click',closeModal);
modal.addEventListener('click',(e)=>{if(e.target===modal)closeModal()});

// ----------------- Hologram Canvas (subtle 3D grid) -----------------
(function(){
  const canvas=document.getElementById('holoCanvas');
  const ctx=canvas.getContext('2d');
  function resize(){canvas.width=canvas.clientWidth*devicePixelRatio;canvas.height=canvas.clientHeight*devicePixelRatio;ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0)}
  resize();window.addEventListener('resize',resize);
  let t=0;
  function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);
    const w=canvas.clientWidth,h=canvas.clientHeight;
    ctx.save();ctx.translate(w/2,h/2);
    for(let i=0;i<30;i++){
      const r=80 + i*8 + Math.sin(t*0.002 + i)*8;
      ctx.beginPath();ctx.strokeStyle=`rgba(125,220,255,${0.02 + i*0.01})`;ctx.lineWidth=1;ctx.arc(0,0,r,0,Math.PI*2);ctx.stroke();
    }
    ctx.restore();t+=1;requestAnimationFrame(draw);
  }
  draw();
})();

// ----------------- Particles Background -----------------
(function(){
  const canvas=document.createElement('canvas');canvas.id='particles';document.body.appendChild(canvas);
  const ctx=canvas.getContext('2d');
  function resize(){canvas.width=innerWidth*devicePixelRatio;canvas.height=innerHeight*devicePixelRatio;canvas.style.position='fixed';canvas.style.top=0;canvas.style.left=0;canvas.style.zIndex='-2';ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0)}
  resize();window.addEventListener('resize',resize);
  const pts=[];const N=90;for(let i=0;i<N;i++)pts.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,vx:(Math.random()-0.5)*0.3,vy:(Math.random()-0.5)*0.3,r:1+Math.random()*2});
  function loop(){ctx.clearRect(0,0,innerWidth,innerHeight);
    for(let p of pts){p.x+=p.vx;p.y+=p.vy;if(p.x<0)p.x=innerWidth;if(p.x>innerWidth)p.x=0;if(p.y<0)p.y=innerHeight;if(p.y>innerHeight)p.y=0;ctx.beginPath();ctx.fillStyle='rgba(90,200,255,0.12)';ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();}
    // connect
    for(let i=0;i<pts.length;i++)for(let j=i+1;j<pts.length;j++){const a=pts[i],b=pts[j];const dx=a.x-b.x,dy=a.y-b.y;const d=dx*dx+dy*dy;if(d<12000){ctx.beginPath();ctx.strokeStyle='rgba(61,211,255,'+(0.08 - d/16000)+')';ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.lineWidth=0.6;ctx.stroke();}}
    requestAnimationFrame(loop);
  }
  loop();
})();

// ----------------- Tilt hover for cards -----------------
function addTilt(){document.querySelectorAll('.card-tile').forEach(elm=>{
  elm.addEventListener('mousemove',e=>{
    const r=elm.getBoundingClientRect();const x=(e.clientX - r.left)/r.width - 0.5;const y=(e.clientY - r.top)/r.height - 0.5;elm.style.transform=`perspective(800px) rotateX(${ -y*6 }deg) rotateY(${ x*8 }deg) translateY(-6px)`;
  });
  elm.addEventListener('mouseleave',()=>{elm.style.transform='translateY(0)'});
})}

// ----------------- Lottie Hero -----------------
function loadLottie(){
  const container = document.getElementById('lottieContainer');
  // sample Lottie animation (replace with your preferred asset URL)
  const animUrl = 'https://assets6.lottiefiles.com/packages/lf20_tfb3estd.json';
  lottie.loadAnimation({container,renderer:'svg',loop:true,autoplay:true,path:animUrl});
}

// ----------------- Download / Contact / Theme -----------------
document.getElementById('downloadBtn').addEventListener('click',()=>{
  openModal('Resume','<p>Download your PDF resume here: <a href="#" onclick="alert(\'Place your hosted resume URL here\')">Download PDF</a></p>');
});

document.getElementById('contactBtn').addEventListener('click',()=>{
  openModal('Contact','<p>Email: <a href="mailto:abhaym0109@gmail.com">abhaym0109@gmail.com</a><br/>Phone: +91-9929575529</p>');
});

// simple theme toggle affecting root colors
let dark=true;document.getElementById('themeBtn').addEventListener('click',()=>{
  dark=!dark;document.documentElement.style.setProperty('--accent', dark? '#3dd3ff' : '#8b5cf6');document.documentElement.style.setProperty('--accent2', dark? '#7af7c9' : '#f472b6');
});

// ----------------- GSAP Animations & ScrollTrigger -----------------
function initAnimations(){
  gsap.registerPlugin(ScrollTrigger);
  // hero entrance
  gsap.from('#intro',{opacity:0,y:30,duration:0.9,delay:0.2,ease:'power3.out'});
  gsap.from('#holo',{opacity:0,y:50,duration:1,delay:0.4,ease:'power3.out'});
  gsap.from('#heroName',{y:20,opacity:0,duration:0.8,delay:0.3});
  gsap.from('#heroLead',{y:10,opacity:0,duration:0.8,delay:0.4});

  // timeline nodes reveal
  gsap.utils.toArray('.node').forEach((n,i)=>{
    gsap.to(n,{opacity:1,x:0,translateX:0,duration:0.7,delay:i*0.08,scrollTrigger:{trigger:n,start:'top 85%'}});
  });

  // cards enter
  gsap.from('.card-tile',{y:30,opacity:0,duration:0.8,stagger:0.12,scrollTrigger:{trigger:'#projects',start:'top 80%'}});

  // skill wheel subtle scale on view
  ScrollTrigger.create({trigger:'#skills',start:'top 70%',onEnter:()=>gsap.to('#skillWheel',{scale:1.02,duration:1,ease:'elastic.out(1,0.6)'})});
}

// ----------------- Init -----------------
renderTimeline();renderCarousel();renderSkills();addTilt();loadLottie();

// Wait a tick then init GSAP (nodes must exist)
setTimeout(()=>{initAnimations(); // open first node
  openNode(TIMELINE[0]);
},120);
</script>

</body>
</html>
